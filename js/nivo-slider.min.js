!function(a){var b=function(i,j){var c=a.extend({},a.fn.nivoSlider.defaults,j),b={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},d=a(i);d.data("nivo:vars",b).addClass("nivoSlider");var e=d.children();e.each(function(){var c=a(this),d="";c.is("img")||(c.is("a")&&(c.addClass("nivo-imageLink"),d=c),c=c.find("img:first"));var e=0===e?c.attr("width"):c.width(),f=0===f?c.attr("height"):c.height();""!==d&&d.css("display","none"),c.css("display","none"),b.totalSlides++}),c.randomStart&&(c.startSlide=Math.floor(Math.random()*b.totalSlides)),c.startSlide>0&&(c.startSlide>=b.totalSlides&&(c.startSlide=b.totalSlides-1),b.currentSlide=c.startSlide),a(e[b.currentSlide]).is("img")?b.currentImage=a(e[b.currentSlide]):b.currentImage=a(e[b.currentSlide]).find("img:first"),a(e[b.currentSlide]).is("a")&&a(e[b.currentSlide]).css("display","block");var h=a("<img/>").addClass("nivo-main-image");h.attr("src",b.currentImage.attr("src")).show(),d.append(h),a(window).resize(function(){d.children("img").width(d.width()),h.attr("src",b.currentImage.attr("src")),h.stop().height("auto"),a(".nivo-slice").remove(),a(".nivo-box").remove()}),d.append(a('<div class="nivo-caption"></div>'));var k=function(f){var c=a(".nivo-caption",d);if(""!=b.currentImage.attr("title")&& void 0!=b.currentImage.attr("title")){var e=b.currentImage.attr("title");"#"==e.substr(0,1)&&(e=a(e).html()),"block"==c.css("display")?setTimeout(function(){c.html(e)},f.animSpeed):(c.html(e),c.stop().fadeIn(f.animSpeed))}else c.stop().fadeOut(f.animSpeed)};k(c);var l=0;if(!c.manualAdvance&&e.length>1&&(l=setInterval(function(){o(d,e,c,!1)},c.pauseTime)),c.directionNav&&(d.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+c.prevText+'</a><a class="nivo-nextNav">'+c.nextText+"</a></div>"),a(d).on("click","a.nivo-prevNav",function(){if(b.running)return!1;clearInterval(l),l="",b.currentSlide-=2,o(d,e,c,"prev")}),a(d).on("click","a.nivo-nextNav",function(){if(b.running)return!1;clearInterval(l),l="",o(d,e,c,"next")})),c.controlNav){b.controlNavEl=a('<div class="nivo-controlNav"></div>'),d.after(b.controlNavEl);for(var f=0;f<e.length;f++)if(c.controlNavThumbs){b.controlNavEl.addClass("nivo-thumbs-enabled");var g=e.eq(f);g.is("img")||(g=g.find("img:first")),g.attr("data-thumb")&&b.controlNavEl.append('<a class="nivo-control" rel="'+f+'"><img src="'+g.attr("data-thumb")+'" alt="" /></a>')}else b.controlNavEl.append('<a class="nivo-control" rel="'+f+'">'+(f+1)+"</a>");a("a:eq("+b.currentSlide+")",b.controlNavEl).addClass("active"),a("a",b.controlNavEl).bind("click",function(){if(b.running||a(this).hasClass("active"))return!1;clearInterval(l),l="",h.attr("src",b.currentImage.attr("src")),b.currentSlide=a(this).attr("rel")-1,o(d,e,c,"control")})}c.pauseOnHover&&d.hover(function(){b.paused=!0,clearInterval(l),l=""},function(){b.paused=!1,""!==l||c.manualAdvance||(l=setInterval(function(){o(d,e,c,!1)},c.pauseTime))}),d.bind("nivo:animFinished",function(){h.attr("src",b.currentImage.attr("src")),b.running=!1,a(e).each(function(){a(this).is("a")&&a(this).css("display","none")}),a(e[b.currentSlide]).is("a")&&a(e[b.currentSlide]).css("display","block"),""!==l||b.paused||c.manualAdvance||(l=setInterval(function(){o(d,e,c,!1)},c.pauseTime)),c.afterChange.call(this)});var m=function(b,f,e){a(e.currentImage).parent().is("a")&&a(e.currentImage).parent().css("display","block"),a('img[src="'+e.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").width(b.width()).css("visibility","hidden").show();for(var g=a('img[src="'+e.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").parent().is("a")?a('img[src="'+e.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").parent().height():a('img[src="'+e.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").height(),c=0;c<f.slices;c++){var d=Math.round(b.width()/f.slices);c===f.slices-1?b.append(a('<div class="nivo-slice" name="'+c+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+b.width()+"px; height:auto; display:block !important; top:0; left:-"+(d+c*d-d)+'px;" /></div>').css({left:d*c+"px",width:b.width()-d*c+"px",height:g+"px",opacity:"0",overflow:"hidden"})):b.append(a('<div class="nivo-slice" name="'+c+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+b.width()+"px; height:auto; display:block !important; top:0; left:-"+(d+c*d-d)+'px;" /></div>').css({left:d*c+"px",width:d+"px",height:g+"px",opacity:"0",overflow:"hidden"}))}a(".nivo-slice",b).height(g),h.stop().animate({height:a(e.currentImage).height()},f.animSpeed)},n=function(c,f,e){a(e.currentImage).parent().is("a")&&a(e.currentImage).parent().css("display","block"),a('img[src="'+e.currentImage.attr("src")+'"]',c).not(".nivo-main-image,.nivo-control img").width(c.width()).css("visibility","hidden").show();for(var g=Math.round(c.width()/f.boxCols),i=Math.round(a('img[src="'+e.currentImage.attr("src")+'"]',c).not(".nivo-main-image,.nivo-control img").height()/f.boxRows),d=0;d<f.boxRows;d++)for(var b=0;b<f.boxCols;b++)b===f.boxCols-1?(c.append(a('<div class="nivo-box" name="'+b+'" rel="'+d+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block; top:-"+i*d+"px; left:-"+g*b+'px;" /></div>').css({opacity:0,left:g*b+"px",top:i*d+"px",width:c.width()-g*b+"px"})),a('.nivo-box[name="'+b+'"]',c).height(a('.nivo-box[name="'+b+'"] img',c).height()+"px")):(c.append(a('<div class="nivo-box" name="'+b+'" rel="'+d+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block; top:-"+i*d+"px; left:-"+g*b+'px;" /></div>').css({opacity:0,left:g*b+"px",top:i*d+"px",width:g+"px"})),a('.nivo-box[name="'+b+'"]',c).height(a('.nivo-box[name="'+b+'"] img',c).height()+"px"));h.stop().animate({height:a(e.currentImage).height()},f.animSpeed)},o=function(c,s,d,l){var b=c.data("nivo:vars");if(b&&b.currentSlide===b.totalSlides-1&&d.lastSlide.call(this),(!b||b.stop)&&!l)return!1;d.beforeChange.call(this),l?("prev"===l&&h.attr("src",b.currentImage.attr("src")),"next"===l&&h.attr("src",b.currentImage.attr("src"))):h.attr("src",b.currentImage.attr("src")),b.currentSlide++,b.currentSlide===b.totalSlides&&(b.currentSlide=0,d.slideshowEnd.call(this)),b.currentSlide<0&&(b.currentSlide=b.totalSlides-1),a(s[b.currentSlide]).is("img")?b.currentImage=a(s[b.currentSlide]):b.currentImage=a(s[b.currentSlide]).find("img:first"),d.controlNav&&(a("a",b.controlNavEl).removeClass("active"),a("a:eq("+b.currentSlide+")",b.controlNavEl).addClass("active")),k(d),a(".nivo-slice",c).remove(),a(".nivo-box",c).remove();var e=d.effect,o="";"random"===d.effect&& void 0===(e=(o=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"))[Math.floor(Math.random()*(o.length+1))])&&(e="fade"),-1!==d.effect.indexOf(",")&& void 0===(e=(o=d.effect.split(","))[Math.floor(Math.random()*o.length)])&&(e="fade"),b.currentImage.attr("data-transition")&&(e=b.currentImage.attr("data-transition")),b.running=!0;var g=0,i=0,f="",j="",t="",q="";if("sliceDown"===e||"sliceDownRight"===e||"sliceDownLeft"===e)m(c,d,b),g=0,i=0,f=a(".nivo-slice",c),"sliceDownLeft"===e&&(f=a(".nivo-slice",c)._reverse()),f.each(function(){var b=a(this);b.css({top:"0px"}),i===d.slices-1?setTimeout(function(){b.animate({opacity:"1.0"},d.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+g):setTimeout(function(){b.animate({opacity:"1.0"},d.animSpeed)},100+g),g+=50,i++});else if("sliceUp"===e||"sliceUpRight"===e||"sliceUpLeft"===e)m(c,d,b),g=0,i=0,f=a(".nivo-slice",c),"sliceUpLeft"===e&&(f=a(".nivo-slice",c)._reverse()),f.each(function(){var b=a(this);b.css({bottom:"0px"}),i===d.slices-1?setTimeout(function(){b.animate({opacity:"1.0"},d.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+g):setTimeout(function(){b.animate({opacity:"1.0"},d.animSpeed)},100+g),g+=50,i++});else if("sliceUpDown"===e||"sliceUpDownRight"===e||"sliceUpDownLeft"===e){m(c,d,b),g=0,i=0;var y=0;f=a(".nivo-slice",c),"sliceUpDownLeft"===e&&(f=a(".nivo-slice",c)._reverse()),f.each(function(){var b=a(this);0===i?(b.css("top","0px"),i++):(b.css("bottom","0px"),i=0),y===d.slices-1?setTimeout(function(){b.animate({opacity:"1.0"},d.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+g):setTimeout(function(){b.animate({opacity:"1.0"},d.animSpeed)},100+g),g+=50,y++})}else if("fold"===e)m(c,d,b),g=0,i=0,a(".nivo-slice",c).each(function(){var b=a(this),e=b.width();b.css({top:"0px",width:"0px"}),i===d.slices-1?setTimeout(function(){b.animate({width:e,opacity:"1.0"},d.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+g):setTimeout(function(){b.animate({width:e,opacity:"1.0"},d.animSpeed)},100+g),g+=50,i++});else if("fade"===e)m(c,d,b),(j=a(".nivo-slice:first",c)).css({width:c.width()+"px"}),j.animate({opacity:"1.0"},2*d.animSpeed,"",function(){c.trigger("nivo:animFinished")});else if("slideInRight"===e)m(c,d,b),(j=a(".nivo-slice:first",c)).css({width:"0px",opacity:"1"}),j.animate({width:c.width()+"px"},2*d.animSpeed,"",function(){c.trigger("nivo:animFinished")});else if("slideInLeft"===e)m(c,d,b),(j=a(".nivo-slice:first",c)).css({width:"0px",opacity:"1",left:"",right:"0px"}),j.animate({width:c.width()+"px"},2*d.animSpeed,"",function(){j.css({left:"0px",right:""}),c.trigger("nivo:animFinished")});else if("boxRandom"===e)n(c,d,b),t=d.boxCols*d.boxRows,i=0,g=0,(q=p(a(".nivo-box",c))).each(function(){var b=a(this);i===t-1?setTimeout(function(){b.animate({opacity:"1"},d.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+g):setTimeout(function(){b.animate({opacity:"1"},d.animSpeed)},100+g),g+=20,i++});else if("boxRain"===e||"boxRainReverse"===e||"boxRainGrow"===e||"boxRainGrowReverse"===e){n(c,d,b),t=d.boxCols*d.boxRows,i=0,g=0;var w=0,z=0,x=[];x[w]=[],q=a(".nivo-box",c),("boxRainReverse"===e||"boxRainGrowReverse"===e)&&(q=a(".nivo-box",c)._reverse()),q.each(function(){x[w][z]=a(this),++z===d.boxCols&&(z=0,x[++w]=[])});for(var u=0;u<2*d.boxCols;u++){for(var r=u,v=0;v<d.boxRows;v++)r>=0&&r<d.boxCols&&(function(g,h,f,i,j){var b=a(x[g][h]),k=b.width(),l=b.height();("boxRainGrow"===e||"boxRainGrowReverse"===e)&&b.width(0).height(0),i===j-1?setTimeout(function(){b.animate({opacity:"1",width:k,height:l},d.animSpeed/1.3,"",function(){c.trigger("nivo:animFinished")})},100+f):setTimeout(function(){b.animate({opacity:"1",width:k,height:l},d.animSpeed/1.3)},100+f)}(v,r,g,i,t),i++),r--;g+=100}}},p=function(a){for(var c,d,b=a.length;b;c=parseInt(Math.random()*b,10),d=a[--b],a[b]=a[c],a[c]=d);return a},q=function(a){this.console&& void 0!==console.log&&console.log(a)};return this.stop=function(){a(i).data("nivo:vars").stop||(a(i).data("nivo:vars").stop=!0,q("Stop Slider"))},this.start=function(){a(i).data("nivo:vars").stop&&(a(i).data("nivo:vars").stop=!1,q("Start Slider"))},c.afterLoad.call(this),this};a.fn.nivoSlider=function(c){return this.each(function(f,g){var d=a(this);if(d.data("nivoslider"))return d.data("nivoslider");var e=new b(this,c);d.data("nivoslider",e)})},a.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},a.fn._reverse=[].reverse}(jQuery)